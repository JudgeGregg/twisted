<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Twisted Writing Standard &mdash; Twisted 22.8.0.post0 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/js/custom.js"></script>
        <script src="https://sidecar.gitter.im/dist/sidecar.v1.js" defer hack=""></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Twisted Compatibility Policy" href="compatibility-policy.html" />
    <link rel="prev" title="Unit Tests in Twisted" href="test-standard.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> Twisted
          </a>
              <div class="version">
                22.8
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation/index.html">Installing Twisted</a></li>
<li class="toctree-l1"><a class="reference internal" href="../core/index.html">Twisted Core</a></li>
<li class="toctree-l1"><a class="reference internal" href="../conch/index.html">Twisted Conch (SSH and Telnet)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mail/index.html">Twisted Mail (SMTP, POP, and IMAP)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../names/index.html">Twisted Names (DNS)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pair/index.html">Twisted Pair</a></li>
<li class="toctree-l1"><a class="reference internal" href="../web/index.html">Twisted Web</a></li>
<li class="toctree-l1"><a class="reference internal" href="../words/index.html">Twisted Words (IRC and XMPP)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/index.html">API Reference</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Development of Twisted</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="coding-standard.html">Twisted Coding Standard</a></li>
<li class="toctree-l2"><a class="reference internal" href="dev-process.html">Development process</a></li>
<li class="toctree-l2"><a class="reference internal" href="review-process.html">Code Review Process</a></li>
<li class="toctree-l2"><a class="reference internal" href="release-process.html">Twisted Release Process</a></li>
<li class="toctree-l2"><a class="reference internal" href="test-standard.html">Unit Tests in Twisted</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Twisted Writing Standard</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#general-style">General style</a></li>
<li class="toctree-l3"><a class="reference internal" href="#evangelism-and-usage-documents">Evangelism and usage documents</a></li>
<li class="toctree-l3"><a class="reference internal" href="#descriptions-of-features">Descriptions of features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#linking">Linking</a></li>
<li class="toctree-l3"><a class="reference internal" href="#introductions">Introductions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#introductory-paragraph">Introductory paragraph</a></li>
<li class="toctree-l4"><a class="reference internal" href="#description-of-target-audience">Description of target audience</a></li>
<li class="toctree-l4"><a class="reference internal" href="#goals-of-document">Goals of document</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#example-code">Example code</a></li>
<li class="toctree-l3"><a class="reference internal" href="#conclusions">Conclusions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="compatibility-policy.html">Twisted Compatibility Policy</a></li>
<li class="toctree-l2"><a class="reference internal" href="naming.html">Naming Conventions</a></li>
<li class="toctree-l2"><a class="reference internal" href="philosophy.html">Philosophy</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../sponsors/index.html">Sponsors of Twisted</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../historic/index.html">Historical Documents</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Quick links</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../security.html">Report a security issue</a></li>
<li class="toctree-l1"><a class="reference internal" href="../security.html#security-procedure-for-developers">Security Procedure for Developers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../security.html#security-audit">Security Audit</a></li>
<li class="toctree-l1"><a class="reference internal" href="../community.html">Twisted Community</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/index.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/twisted/twisted">GitHub</a></li>
<li class="toctree-l1"><a class="reference external" href="https://pypi.org/project/twisted">PyPI</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Twisted</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="index.html">Development of Twisted</a> &raquo;</li>
      <li>Twisted Writing Standard</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/development/writing-standard.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="twisted-writing-standard">
<h1>Twisted Writing Standard<a class="headerlink" href="#twisted-writing-standard" title="Permalink to this headline"></a></h1>
<p>The Twisted writing standard describes the documentation writing
styles we prefer in our narrative documentation.</p>
<p>This standard applies particularly to howtos and other descriptive documentation.
For writing API documentation, please refer to <a class="reference internal" href="coding-standard.html"><span class="doc">Docstrings section in our coding standard</span></a>.</p>
<p>This document is meant to help Twisted documentation authors produce
documentation that does not have the following problems:</p>
<ul class="simple">
<li><p>misleads users about what is good Twisted style;</p></li>
<li><p>misleads users into thinking that an advanced howto is an introduction
to writing their first Twisted server; and</p></li>
<li><p>misleads users about whether they fit the document’s target audience:
for example, that they are able to use enterprise without knowing how to
write SQL queries.</p></li>
</ul>
<section id="general-style">
<h2>General style<a class="headerlink" href="#general-style" title="Permalink to this headline"></a></h2>
<p>Documents should aim to be clear and concise, allowing the API
documentation and the example code to tell as much of the story as they
can. Demonstrations and where necessary supported arguments should always
preferred to simple statements (“here is how you would simplify this
code with Deferreds” rather than “Deferreds make code
simpler”).</p>
<p>Documents should be clearly delineated into sections and subsections.
Each of these sections, like the overall document, should have a single
clear purpose. This is most easily tested by trying to have meaningful
headings: a section which is headed by “More details” or
“Advanced stuff” is not purposeful enough. There should be
fairly obvious ways to split a document. The two most common are task
based sectioning and sectioning which follows module and class
separations.</p>
<p>Documentation must use American English spelling, and where possible
avoid any local variants of either vocabulary or grammar. Grammatically
complex sentences should ideally be avoided: these make reading
unnecessarily difficult, particularly for non-native speakers.</p>
<p>When referring to a hypothetical person, (such as “a user of a website written with twisted.web”), gender neutral pronouns (they/their/them) should be used.</p>
<p>For reStructuredText documents which are handled by the Sphinx documentation generator make lines short, and break lines at natural places, such as after commas and semicolons, rather than after the 79th column.
We call this <em>semantic newlines</em>.
This rule <strong>does not</strong> apply to docstrings.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span>Sometimes when editing a narrative documentation file, I wrap the lines semantically.
<span class="linenos">2</span>Instead of inserting a newline at 79 columns (or whatever),
<span class="linenos">3</span>or making paragraphs one long line,
<span class="linenos">4</span>I put in newlines at a point that seems logical to me.
<span class="linenos">5</span>Modern code-oriented text editors are very good at wrapping and arranging long lines.
</pre></div>
</div>
</section>
<section id="evangelism-and-usage-documents">
<h2>Evangelism and usage documents<a class="headerlink" href="#evangelism-and-usage-documents" title="Permalink to this headline"></a></h2>
<p>The Twisted documentation should maintain a reasonable distinction
between “evangelism” documentation, which compares the Twisted
design or Twisted best practice with other approaches and argues for the
Twisted approach, and “usage” documentation, which describes the
Twisted approach in detail without comparison to other possible
approaches.</p>
<p>While both kinds of documentation are useful, they have different
audiences. The first kind of document, evangelical documents, is useful to
a reader who is researching and comparing approaches and seeking to
understand the Twisted approach or Twisted functionality in order to
decide whether it is useful to them. The second kind of document, usage
documents, are useful to a reader who has decided to use Twisted and
simply wants further information about available functions and
architectures they can use to accomplish their goal.</p>
<p>Since they have distinct audiences, evangelism and detailed usage
documentation belongs in separate files. There should be links between
them in ‘Further reading’ or similar sections.</p>
</section>
<section id="descriptions-of-features">
<h2>Descriptions of features<a class="headerlink" href="#descriptions-of-features" title="Permalink to this headline"></a></h2>
<p>Descriptions of any feature added since release 2.0 of Twisted core
must have a note describing which release of which Twisted project they
were added in at the first mention in each document. If they are not yet
released, give them the number of the next minor release.</p>
<p>For example, a substantial change might have a version number added in
the introduction:</p>
<blockquote>
<div><p>This document describes the Application infrastructure for deploying
Twisted applications <em>(added in Twisted 1.3)</em> .</p>
</div></blockquote>
<p>The version does not need to be mentioned elsewhere in the document
except for specific features which were added in subsequent releases,
which might should be mentioned separately.</p>
<blockquote>
<div><p>The simplest way to create a <code class="docutils literal notranslate"><span class="pre">.tac</span></code> file, SuperTac <em>(added in Twisted Core 99.7)</em> …</p>
</div></blockquote>
<p>In the case where the usage of a feature has substantially changed, the
number should be that of the release in which the current usage became
available. For example:</p>
<blockquote>
<div><p>This document describes the Application infrastructure for
deploying Twisted applications <em>(updated[/substantially updated] in Twisted 2.7)</em> .</p>
</div></blockquote>
</section>
<section id="linking">
<h2>Linking<a class="headerlink" href="#linking" title="Permalink to this headline"></a></h2>
<p>The first occurrence of the name of any module, class or function should
always link to the API documents. Subsequent mentions may or may not link
at the author’s discretion: discussions which are very closely bound to a
particular API should probably link in the first mention in the given
section.</p>
<p>Links between howtos are encouraged. Overview documents and tutorials
should always link to reference documents and in depth documents. These
documents should link among themselves wherever it’s needed: if you’re
tempted to re-describe the functionality of another module, you should
certainly link instead.</p>
<p>Linking to standard library documentation is also encouraged when referencing
standard library objects. <a class="reference external" href="http://sphinx-doc.org/ext/intersphinx.html">Intersphinx</a>
is supported in Twisted documentation, with prefixes for linking to either
the Python 2 standard library documentation (via <code class="docutils literal notranslate"><span class="pre">py2</span></code>) or Python 3 (via
<code class="docutils literal notranslate"><span class="pre">py3</span></code>) as needed.</p>
</section>
<section id="introductions">
<h2>Introductions<a class="headerlink" href="#introductions" title="Permalink to this headline"></a></h2>
<p>The introductory section of a Twisted howto should immediately follow
the top-level heading and precede any subheadings.</p>
<p>The following items should be present in the introduction to Twisted
howtos: the introductory paragraph and the description of the target
audience.</p>
<section id="introductory-paragraph">
<h3>Introductory paragraph<a class="headerlink" href="#introductory-paragraph" title="Permalink to this headline"></a></h3>
<p>The introductory paragraph of a document should summarize what the
document is designed to present. It should use the both proper names for
the Twisted technologies and simple non-Twisted descriptions of the
technologies. For example, in this paragraph both the name of the technology
(“Conch”) and a description (“SSH server”) are used:</p>
<blockquote>
<div><p>This document describes setting up a SSH server to serve data from the
file system using Conch, the Twisted SSH implementation.</p>
</div></blockquote>
<p>The introductory paragraph should be relatively short, but should, like
the above, somewhere define the document’s objective: what the reader
should be able to do using instructions in the document.</p>
</section>
<section id="description-of-target-audience">
<h3>Description of target audience<a class="headerlink" href="#description-of-target-audience" title="Permalink to this headline"></a></h3>
<p>Subsequent paragraphs in the introduction should describe the target
audience of the document: who would want to read it, and what they should
know before they can expect to use your document. For example:</p>
<blockquote>
<div><p>The target audience of this document is a Twisted user who has a set of
filesystem like data objects that they would like to make available to
authenticated users over SFTP.</p>
<p>Following the directions in this document will require that you are
familiar with managing authentication via the Twisted Cred system.</p>
</div></blockquote>
<p>Use your discretion about the extent to which you list assumed
knowledge. Very introductory documents that are going to be among a
reader’s first exposure to Twisted will even need to specify that they
rely on knowledge of Python and of certain networking concepts (ports,
servers, clients, connections) but documents that are going to be sought
out by existing Twisted users for particular purposes only need to specify
other Twisted knowledge that is assumed.</p>
<p>Any knowledge of technologies that wouldn’t be considered “core
Python” and/or “simple networking” need to be explicitly
specified, no matter how obvious they seem to someone familiar with the
technology. For example, it needs to be stated that someone using
enterprise should know SQL and should know how to set up and populate
databases for testing purposes.</p>
<p>Where possible, link to other documents that will fill in missing
knowledge for the reader. Linking to documents in the Twisted repository
is preferred but not essential.</p>
</section>
<section id="goals-of-document">
<h3>Goals of document<a class="headerlink" href="#goals-of-document" title="Permalink to this headline"></a></h3>
<p>The introduction should finish with a list of tasks that the user can
expect to see the document accomplish. These tasks should be concrete
rather than abstract, so rather than telling the user that they will
“understand Twisted Conch”, you would list the specific tasks
that they will see the document do. For example:</p>
<blockquote>
<div><p>This document will demonstrate the following tasks using Twisted Conch:</p>
<ul class="simple">
<li><p>creating an anonymous access read-only SFTP server using a filesystem
backend;</p></li>
<li><p>creating an anonymous access read-only SFTP server using a proxy
backend connecting to an HTTP server; and</p></li>
<li><p>creating an anonymous access read and write SFTP server using a
filesystem backend.</p></li>
</ul>
</div></blockquote>
<p>In many cases this will essentially be a list of your code examples,
but it need not be. If large sections of your code are devoted to design
discussions, your goals might resemble the following:</p>
<blockquote>
<div><p>This document will discuss the following design aspects of writing Conch
servers:</p>
<ul class="simple">
<li><p>authentication of users; and</p></li>
<li><p>choice of data backends.</p></li>
</ul>
</div></blockquote>
</section>
</section>
<section id="example-code">
<h2>Example code<a class="headerlink" href="#example-code" title="Permalink to this headline"></a></h2>
<p>Wherever possible, example code should be provided to illustrate a
certain technique or piece of functionality.</p>
<p>Example code should try and meet as many of the following requirements
as possible:</p>
<ul class="simple">
<li><p>example code should be a complete working example suitable for copying
and pasting and running by the reader (where possible, provide a link to a
file to download);</p></li>
<li><p>example code should be short;</p></li>
<li><p>example code should be commented very extensively, with the assumption
that this code may be read by a Twisted newcomer;</p></li>
<li><p>example code should conform to the <a class="reference internal" href="coding-standard.html"><span class="doc">coding standard</span></a> ; and</p></li>
<li><p>example code should exhibit ‘best practice’, not only for dealing with
the target functionality, but also for use of the application framework
and so on.</p></li>
</ul>
<p>The requirement to have a complete working example will occasionally
impose upon authors the need to have a few dummy functions: in Twisted
documentation the most common example is where a function is needed to
generate a Deferred and fire it after some time has passed. An example
might be this, where <code class="xref py py-func docutils literal notranslate"><span class="pre">deferLater</span></code> is used to fire a callback
after a period of time:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">twisted.internet</span> <span class="kn">import</span> <span class="n">task</span><span class="p">,</span> <span class="n">reactor</span>

<span class="k">def</span> <span class="nf">getDummyDeferred</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Dummy method which returns a deferred that will fire in 5 seconds with</span>
<span class="sd">    a result</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">task</span><span class="o">.</span><span class="n">deferLater</span><span class="p">(</span><span class="n">reactor</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="s2">&quot;RESULT&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>As in the above example, it is imperative to clearly mark that the
function is a dummy in as many ways as you can: using <code class="docutils literal notranslate"><span class="pre">Dummy</span></code> in
the function name, explaining that it is a dummy in the docstring, and
marking particular lines as being required to create an effect for the
purposes of demonstration. In most cases, this will save the reader from
mistaking this dummy method for an idiom they should use in their Twisted
code.</p>
</section>
<section id="conclusions">
<h2>Conclusions<a class="headerlink" href="#conclusions" title="Permalink to this headline"></a></h2>
<p>The conclusion of a howto should follow the very last section heading
in a file. This heading would usually be called “Conclusion”.</p>
<p>The conclusion of a howto should remind the reader of the tasks that
they have done while reading the document. For example:</p>
<blockquote>
<div><p>In this document, you have seen how to:</p>
<ol class="arabic simple">
<li><p>set up an anonymous read-only SFTP server;</p></li>
<li><p>set up a SFTP server where users authenticate;</p></li>
<li><p>set up a SFTP server where users are restricted to some parts of the
filesystem based on authentication; and</p></li>
<li><p>set up a SFTP server where users have write access to some parts of
the filesystem based on authentication.</p></li>
</ol>
</div></blockquote>
<p>If appropriate, the howto could follow this description with links to
other documents that might be of interest to the reader with their
newfound knowledge. However, these links should be limited to fairly
obvious extensions of at least one of the listed tasks.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="test-standard.html" class="btn btn-neutral float-left" title="Unit Tests in Twisted" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="compatibility-policy.html" class="btn btn-neutral float-right" title="Twisted Compatibility Policy" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Twisted Matrix Labs. Ver 22.8.0.post0. Built on 2022-09-16.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>